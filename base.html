<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <script defer src="js/base.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism-tomorrow.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/prismjs/prism.js"></script>
    <title>Les bases du langage JavaScript</title>
</head>

<body>
    <main>
        <h1>Les bases du langage JavaScript</h1>
        <h2>Les variables</h2>
        <p>Une variable est un espace mémoire qui stocke une valeur (un nombre, du texte, etc...)</p>
        <p>En JS on déclare une variable avec les mots clés <b>let, const</b> et anciennement <i>var</i> (dans les vieux
            codes)</p>

        <h2>Les Boucles</h2>
        <p>Une <b>boucle</b> est une structure qui per met de <b>répéter</b> un bloc de code tant qu'une condition est
            vraie.</p>
        <p>C'est une facon automatique de répéter des isntructions sans devoir les écrire plusieurs fois</p>

        <h3>Les types de boucles</h3>
        <ul>
            <li>La boucle While</li>
            <li>La boucle Do ...While</li>
            <li>La boucle For</li>
            <li>La boucle For... of</li>
            <li>La boucle For... in</li>
        </ul>

        <h3>La boucle While</h3>
        <p>On l'utilise quand on ne connait pas forcément à l'avance le nombre de tours</p>
        <pre class="line-numbers">
            <code class="language-javascript">
                // Condition => Cette condition doit etre vrai pour pouvoir continuer la boucle (comme le if, cependant ne jamais mettre de ==)
                while (condition) {
                    // Code a exécuter
                }
            </code>
        </pre>
        <p><b>Exemple concret</b></p>
        <pre class="line-numbers">
            <code class="language-javascript">
                let n = 0;
                while (n < 6) {
                    console.log(n + " * 5 est égale à " + n * 5);
                    n += 1
                }
            </code>
        </pre>



        <h3>La boucle Do... While</h3>
        <p>Comme la boucle while, mais elle s'exécute au moins une fois avant de tester la condition</p>
        <pre class="line-numbers">
            <code class="language-javascript">
                do {
                    //
                } while (condition);
            </code>
        </pre>
        <p><b>Exemple concret</b></p>
        <pre class="line-numbers">
            <code class="language-javascript">
                let password;
                do {
                    password = prompt("Entrez le mot de passe");
                } while (password != "abc123")
                console.log("Tu as trouvé le mot de passe!");
            </code>
        </pre>


        <h3>La boucle For </h3>
        <p>La plus utilisé quand on connait a lavanace le nombre de répétitions</p>
        <pre class="line-numbers">
            <code class="language-javascript">
                for (initialisation, condition; incrémentation) {
                    // code à exécuter
                }
            </code>
        </pre>
        <p><b>Exemple concret</b></p>
        <pre class="line-numbers">
            <code class="language-javascript">   
                for (let i = 0; i < 5; i++) {
                    console.log("Compteur :" + i)
                }
            </code>
        </pre>
        <p>La boucle for permet de <b>traverser</b> un tableau à partir de ses index</p>
        <pre class="line-numbers">
            <code class="language-javascript">   
                let voitures = ["Dacia", "Lada", "Audi", "Daihatsu", "Toyota", "Chevrolet"]

                for (let i = 0; i < voitures.length; i++){
                    console.log(voitures[i])
                }
            </code> 
        </pre>


        <h3>La boucle For... OF </h3>
        <div id="container"></div>
            const container = document.getElementById("container");
            const ul = document.createElement("ul")
            container.appendChild(ul);

            for (let marque of gafam) {
                const li = document.createElement("li");
                li.textContent = marque;
                ul.appendChild(li)
            }


        <h3>La boucle For... In </h3>
        <p>Elle permet de parcourir les <b>propriétés d'un objet</b></p>
        <div id="pen-container"></div>
        <pre class="line-numbers">
            <code class="language-javascript">   
                const stylo = {
                    taille: 15,
                    marque: "bic",
                    couleur: "#0000FF",
                    aEncoreSonCapuchon: true
                }

                const penContainer = document.getElementById("pen-container");
                const ulPen = document.createElement("ul");

                penContainer.appendChild(ulPen);

                // pour chaque cle dans stylo 
                for (let cle in stylo) {
                    // On récupère la valeur
                    let value = stylo[cle];
                    // On crée un li pour chaque valeur
                    let li = document.createElement("li");
                    // Exemple de littéral de gabarit qui facilite l'écriture des concaténations
                    li.innerHTML = `<span class='cyan'>${cle}</span>: ${value}`
                    // le li est ramené dans l'ul
                    ulPen.appendChild(li);
                    console.log(value)
                }
            </code> 
        </pre>



        <h2>Les mots clés BREAK et CONTINUE</h2>
        <p>Le Break permet de sortir immédiatement d'une boucle</p>
        <pre class="line-numbers">
            <code class="language-javascript"> 
                for (let i = 0; i < 10; i++){    
                    if (i === 5) {
                        break;
                    }
                    console.log(i)
                }            
            </code> 
        </pre>
            
        <p>Le Continue permet de sauter une intéraction sans arreter la boucle</p>
        <pre class="line-numbers">
            <code class="language-javascript"> 
                for (let i = 0; i < 10; i++){
                    if (i % 2 === 0){
                        continue;
                    }
                }
            </code> 
        </pre>
        <br>
        <br>



        <h2>LES TABLEAUX</h2>
        <p>Un tableau en JavaScript est un objet spécial qui peut contenir plusieurs valurs dans une seule variante</p>
        <pre class="line-numbers">
            <code class="language-javascript"> 
                const fruits = ["pomme", "banane", "orange"]
            </code> 
        </pre>

        <p>Comment accéder aux élements</p>
        <pre class="line-numbers">
            <code class="language-javascript"> 
                const fruits = ["pomme", "banane", "orange"]

                console.log(fruits[0]); // "pomme"
                console.log(fruits[1]); // "banane"
                console.log(fruits[2]); // "orange"
            </code> 
        </pre>

        <p>Modifier un element du tableau</p>
        <pre class="line-numbers">
            <code class="language-javascript"> 
                const fruits = ["pomme", "banane", "orange"]

                fruits[1] = "kiwi";
            </code> 
        </pre>

        <p>Ajouter et supprimer des élements</p>
        <pre class="line-numbers">
            <code class="language-javascript"> 
                const fruits2 = ["pomme", "banane", "orange"]

                // ajouter un élement à la fin
                fruits2.push("fraise");
                // ajouter un élément au début
                fruits2.unshift("melon");
                // supprimer le dernier element
                fruits2.pop;
                //supprimer le premier element
                fruits2.shift;
            </code> 
        </pre>

        <p>Autres fonctions utiles</p>
        <pre class="line-numbers">
            <code class="language-javascript"> 
                const fruits3 = ["framboise", "tomates", "coing", "poire"];

                // trouver l'index d'un élément
                let posFruit = fruits3.indexOf("tomates")
                console.log(posFruit)
                // vérifier si un élément est présent
                console.log(fruits3.includes('orange'))
                // Convertir un tableau en chaine de caracteres
                let saladeDeFruit = fruits3.join(", ")
                console.log(saladeDeFruit)
            </code> 
        </pre>


        <h2>LES CHAINES DE CARACTERE</h2>
        <p>Une chaine de caractere ou string est une suite de caractères(lettre, chiffres, symbole...) entre guillement</p>
        <pre class="line-numbers">
            <code class="language-javascript"> 
                let txt = "Bonjour le monde"

                let nom = "Alice"
                let message = 'Salut !'
                let phrase = `${message} ${nom}`    // Salut! Alice
            </code> 
        </pre>


        <pre class="line-numbers">
            <code class="language-javascript"> 
                // Connaitre la taille d'une string
                let mot = "Jean-Michel"
                console.log(mot.length);
                // length ??
                console.log(mot[3]);
                // Depuis le début, les strings sont en fait des tableaux
                // Pour ajouter une majuscule au premier élément
                mot.charAt(0).toUpperCase();
            </code> 
        </pre>

        <h2>Itérables et Itérateurs</h2>

        <p> Un Itérables est un objet qui peut etre parcouru(itéré) par un itérateur comme une boucle</p>
        <p>Exemple d'objet itérables</p>
        <ul>
            <li>Tableaux []</li>
            <li>String "abc"</li>
            <li>Arguments d'une fonction</li>
            <li>Les clés dans les objets</li>
        </ul>

        <h3>Les méthodes itératrices</h3>
        <p>Liste des méthodes itératrices (principalement pour les tableaux)</p>
        <ul>
            <li>.forEach()</li>
            <li>.map()</li>
            <li>.filter()</li>
            <li>.reduce()</li>
            <li>.find()</li>
            <li>.some()</li>
            <li>.every()</li>
        </ul>
        <p>Aucune de ces méthodes ne modifie les tableaux d'origine</p>

        <pre class="line-numbers">
            <code class="language-javascript"> 
                // Méthodes itératrices

                const videoGames = ['Mario', 'Pandemonium', 'Gran Turismo', 'Metal Gear', 'Zelda', 'Hollow Knight', 'Rocket League']
                const nbrIte = [5, 10, Math.PI, 19, 478, 255, 6472, 2.5, 47.899]; 

                // Ecriture standard
                // videoGames.forEach(videoGame => {
                //     console.log(videoGame)
                // });

                videoGames.forEach((videoGame, index) => {
                    console.log(`index ${index} : ${videoGame}`)
                });


                // .map
                // Retourne un tableau après transformation de chaque élément
                const upper = videoGames.map( videoGames => videoGames.toUpperCase())
                console.log(upper);

                // Retourne un tableau avec les valeurs a la puissance de 2
                const pow2 = nbrIte.map( n => n ** 2)
                console.log(pow2)


                // .filter
                // Retourne un tableay avec uniquement les éléments qui ont passé un test.
                const even = nbrIte.filter(n => n % 2 === 0)
                console.log(even);

                // On récupère dans le tableau le nom des jeu qui commence par un m
                const mGames = videoGames.filter( vg => vg.charAt(0).toLowerCase() === "m")
                console.log(mGames)


                // .reduce 
                // Il accumule une valeur à partir des éléments du tableau
                const prices = [10, 15.75, 78, 12]
                const totalPrice = prices.reduce((acc, val) => acc + val, 0);
                console.log(totalPrice);

                // Au départ acc = 0
                // acc + val = 10
                // 10 + 15.75
                // 25.75 + 78
                // 103.75 + 12
                // 115.75


                // .find()
                // Retourne le PREMIER elment qui passe un test
                const users = [
                    {id: 1, nom:"Jean-Michel"}, 
                    {id: 2, nom:"Jean-Marcel"}, 
                    {id: 3, nom:"Jean-Marc"}, 
                    {id: 4, nom:"Jean-Eude"}, 
                    {id: 5, nom:"Jean-Kévin"}, 
                ]

                const user = users.find( u => u.id === 4)
                console.log(user)

                // some() et every()

                // .some vérifie qu'un moins un élément du tableau satisfait la condition
                // .every vérifie que tous les éléments du tableau satisfait la condition

                const nbrSome = [1, 5, 4, 74, 52356]
                const strEvery = ['Autruche', 'Ane', 'Anguille', 'Alligator']

                console.log(nbrSome.some(n => n % 2 === 0))
                console.log(nbrSome.every(n => n % 2 === 0))
                console.log(strEvery.every(s => s.charAt(0).toLowerCase() === "a"))

            </code> 
        </pre>


    </main>

</body>

</html>